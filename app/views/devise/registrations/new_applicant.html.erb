<style>
.modal-backdrop {
  z-index: -1;
}
</style>
<%
  if params[:organization_id]
    @gotParam = "GOT IT"
    @orgID = params[:organization_id]
  end
%>

<%= form_for(:user, :as => :user,
  :url => registration_path(:user), 
  :html => { :role => "form" }) do |f| %>


<div class="block-center mt-xl wd-xl">
   <!-- START panel-->
   <div class="panel panel-info panel-flat">
      <div class="panel-heading text-center">
         <img src="<%= image_path('logos/header.png') %>" alt="App Logo" class="block-center img-rounded" />
      </div>
      <div class="panel-body">
         <p class="text-center pv">REGISTER TODAY!</p>
         <form role="form" data-parsley-validate="" novalidate="" class="mb-lg">
            
            <div class="form-group has-feedback">
               <label for="signupInputFirstName" class="text-muted">First Name</label>
               <%= f.text_field :first_name, class: "form-control", :placeholder => "Enter First Name", :required => "required", :id => "signupInputFirstName" %>
               <span class="icon-people form-control-feedback text-muted"></span>
            </div>

            <div class="form-group has-feedback">
               <label for="signupInpuLastName" class="text-muted">Last Name</label>
               <%= f.text_field :last_name, class: "form-control", :placeholder => "Enter Last Name", :required => "required", :id => "signupInputLastName" %>
               <span class="icon-people form-control-feedback text-muted"></span>
            </div>

            <div class="form-group has-feedback">
               <label for="signupInpuLastName" class="text-muted">Email<span class="hidden-xs"> Address</span></label>
               <%= f.text_field :email, class: "form-control", :placeholder => "Email Address", :required => "required", :id => "signupInputLastName" %>
               <span class="icon-envelope form-control-feedback text-muted"></span>
            </div>


            <div class="form-group has-feedback">
               <label for="signupInputPassword1" class="text-muted">Password</label>
               <%= f.password_field :password, :autocomplete => "off", class: "form-control", :placeholder =>"Password", :required => "required" %>
               <span class="fa fa-lock form-control-feedback text-muted"></span>
            </div>
            <div class="form-group has-feedback">
               <label for="signupInputRePassword1" class="text-muted">Retype Password<span class="visible-xs">Confirm</span></label>
               <%= f.password_field :password_confirmation, :autocomplete => "off", class: "form-control", :placeholder =>"Password", :required => "required" %>
               <span class="fa fa-lock form-control-feedback text-muted"></span>
            </div>


            <!-- Hidden Fields -->
            <div style="">
              <div class="form-group has-feedback">
                 <label for="signupInpuLastName" class="text-muted">Organization ID</label>
                 <%= f.text_field :organization_id, class: "form-control", :value => @orgID %>
                 <span class="fa fa-building-o form-control-feedback text-muted"></span>
              </div>
  
              <div class="clearfix">
                 <div class="checkbox c-checkbox pull-left mt0">
                    <label>
                       <%= f.check_box :applicant, :checked => true %>
                       <span class="fa fa-check"></span> Applicant?
                       
                    </label>
                 </div>
              </div>
            </div><!-- End Hidden -->

            <!-- Need text for terms
            <div class="clearfix">
               <div class="checkbox c-checkbox pull-left mt0">
                  <label>
                     <%= f.check_box :accept_terms %>
                     <span class="fa fa-check"></span>I agree with the <a data-toggle="modal" data-target="#termsconditions">terms</a>.
                     
                  </label>
               </div>
            </div> -->

            <%= f.submit "Create account", :class => "btn btn-block btn-primary mt-lg", id: "submit_button" %>
         </form>
         <p class="pt-lg text-center">Have an account?</p>
         <%= link_to "Sign in", new_user_session_path, :class => "btn btn-block btn-default" %>
      </div>
   </div>
   <!-- END panel-->
</div>


  
      
<% end #End Form %>

<div class="modal fade" id="termsconditions" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="myModalLabel">Terms and Conditions Title</h4>
      </div>
      <div class="modal-body">
        <%= render "terms_and_conditions" %>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div>
  </div>
</div>


<script>
  $('#user_program_admin').prop('checked', true)
</script>